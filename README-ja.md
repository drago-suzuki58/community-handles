# Bluesky Community Handles Tool

[日本語](README-ja.md)   [English](README.md)

> **警告**
>
> リポジトリのURLはサンプルです。
>
> 実際には機能しません。このリポジトリをフォークしてホスティングしてください。

Bluesky用のコミュニティハンドルを取得しましょう！

https://swifties.social にアクセスして、swifties.social コミュニティに参加してください。

## コミュニティハンドルとは？

他の人が自分のサブドメインを持つことができるドメインです。例えば、[@mozzius.swifties.social](https://mozzius.swifties.social) は https://swifties.social コミュニティの一部であるコミュニティハンドルです。

## コミュニティハンドルを取得するには？

このツールを使えば、コミュニティのメンバーが簡単にコミュニティハンドルを取得できます。https://swifties.social のようなドメインにアクセスし、指示に従ってください。

## 自分のコミュニティハンドルツールをホストするには？

自分のコミュニティのためにコミュニティハンドルを設定したい場合、このツールを使用できます。これは無料でオープンソースであり、自分でホストすることができます。技術的な部分が難しい場合は、[ホストされたバージョンを使用](https://swifties.social/get-your-own)することもできます。

それ以外の場合は、以下の手順に従って、最も簡単な方法で自分のコミュニティハンドルツールを設定してください。

> これらの手順は、Git、GitHub、および Vercel の基本的な理解を前提としています。これは唯一のホスティング方法ではありません（Next.js アプリです）が、おそらく最も簡単な方法です。

使用したいドメインを所有し、GitHub にリンクされた Vercel アカウントを持っている必要があります。

### 1. このリポジトリをフォークする

このリポジトリを自分の GitHub アカウントにフォークし、ローカルマシンにクローンします。

### 2. プロジェクトを Vercel に追加する

"Add New..." ボタンを使用してプロジェクトを Vercel に追加します。まだ GitHub アカウントを Vercel にリンクしていない場合は、リンクする必要があります。

Next.js プロジェクトであることが検出され、ビルド設定が自動的に設定されます。それで問題ありませんが、環境変数を設定する必要があります。

設定が完了したら、アプリをデプロイします。

### 3. ドメインを設定する

設定が完了したら、Settings > Domains に移動し、使用したいドメインを追加します。**推奨されるリダイレクト設定は行わず、プレーンドメインを使用してください。リストの3番目のオプションです**。ドメインを指すネームサーバーが表示されるので、レジストラに戻って設定します。

> 重要: DNSレコードではなく、ネームサーバーを使用してください。DNSレコードを使用すると、機能しません。

次に、`*` を使用してワイルドカードドメインを追加します。例えば、`*.swifties.social` のようにします。これにより、サブドメインへのすべてのリクエストがキャッチされ、Next.js ミドルウェアを使用して適切な場所にルーティングされます。

### 4. データベースを追加する

コミュニティハンドルを保存するためのデータベースを追加する必要があります。私たちは [Railway](https://railway.app) をお勧めしますが、他のものを使用することもできます。Postgres でない場合は、Prisma ファイルを変更する必要があるかもしれません。Railway が最も簡単な方法でしょう。

Railway を使用して Postgres データベースを作成し、準備ができたら接続文字列を取得します。接続文字列を環境変数に追加する必要があります。プロジェクトのルートに `.env` というファイルを作成し、以下を追加します：

```env
DATABASE_URL=
```

次に、プロジェクトディレクトリで以下のコマンドをターミナルで実行します：

```bash
pnpm i
pnpm prisma db push
```

次に、Vercel の Settings > Environment Variables に移動し、接続文字列を持つ `DATABASE_URL` 変数を追加します。Vercel アプリを再デプロイします。

### 5. 完了！

これで、ドメインにアクセスしてコミュニティハンドルツールを使用できるはずです。

> DNS の伝播には数分かかることを忘れないでください。すぐには機能しないかもしれません。

問題がある場合は、Bluesky でオリジナルの作者にメンションするか ([@samuel.bsky.team](https://bsky.app/profile/samuel.bsky.team))、Twitter で DM を送ってください ([@mozzius](https://twitter.com/mozzius))。できる限りお手伝いします。

または、Blueskyで私にメンション ([@dorasuzublog.com](https://bsky.app/profile/dorasuzublog.com)) してください。TypeScriptはネイティブではないので翻訳サポートの部分のみにはなってしまいますが、できることはお手伝いします。

プロジェクトが気に入ったら、[オリジナルプロジェクトのスポンサーになる](https://github.com/sponsors/mozzius)こともできます！必須ではありませんが、感謝されます

## 翻訳言語を追加するには？

言語を追加するには、`components\messages.tsx`の中に追加したい言語のコードを挿入し、enやjaと同じような形式で記述していってください。

また、それと同時に`app\[domain]\layout.tsx`の中身のreturn節で定義されているselectタグ内に、先程追加した言語のコードと同じものを追記してください。
